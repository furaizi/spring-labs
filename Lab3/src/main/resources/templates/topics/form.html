<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${topic.id} != null ? 'Edit Topic' : 'Create Topic'">Topic form</title>
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline';
                   form-action 'self'; base-uri 'self'; frame-ancestors 'none'">
</head>
<body>

<p><a th:href="@{/topics}">‚Üê Back to list</a></p>

<h1 th:text="${topic.id} != null ? 'Edit Topic' : 'Create Topic'">Topic form</h1>

<form th:action="${topic.id} != null ? @{/admin/topics/{id}(id=${topic.id})} : @{/admin/topics}"
      method="post">

    <p>
        <label>Title:
            <input type="text" name="title" th:value="${topic.title}" required maxlength="255"/>
        </label>
    </p>

    <p>
        <label>Description:<br/>
            <textarea name="description" rows="4" cols="60" th:text="${topic.description}"></textarea>
        </label>
    </p>

    <p>
        <label>
            <input type="checkbox" name="pinned" th:checked="${topic.pinned}"/> Pinned
        </label>
        &nbsp;&nbsp;
        <label>
            <input type="checkbox" name="closed" th:checked="${topic.closed}"/> Closed
        </label>
    </p>

    <p>
        <label>Tags (comma separated):
            <input type="text" name="tagsRaw" th:value="${tagsRaw}"/>
        </label>
    </p>

    <p>
        <button type="submit" th:text="${topic.id} != null ? 'Update' : 'Create'">Save</button>
    </p>
</form>

</body>
</html>
